# Задания

## Soft задачи

1. Напишите список команд для инструментов openSSL или keytool (JAVA), который позволит сформировать сертификат (хранилище JKS), содержащий соответственно и закрытый (экспортируемый) и открытый ключ. CN должен быть: "my-cert-for-test", и задаваться через параметр. Сертификат может быть самоподписанным, но он должен быть валидным 6 месяцев. (Можете усложнить задание на ваш вкус. Творческий подход приветствуется)

2. Напишите bash-скрипт с обработкой статусов и ошибок, который проверит, что на странице https://it.is.mysite.ru есть текст "Про важное". Прокомментировать команды скрипта. (Можете усложнить задание на ваш вкус. Творческий подход приветствуется)

2. Напишите bash-скрипт, который позволит найти все файлы в папке "random_folder" (+ во всех вложенных подпапках), в тексте которых встречается сочетание символов "Цена=".
Вывести наименование этих файлов, количество вхождений сочетаний символов "Цена=" найденных в тексте данного файла.

## Блок SQL (Postgre)

```
Есть три таблицы USERS и ORDERS и DATES_SALES:

**USERS**
Поля:
USER_ID | NAME


**ORDERS**
Поля:
ORDER_ID | USER_ID | STATUS

**DATES_SALES**
Поля:
ID_SALES | DATE_SALES

```

3. Выбрать всех пользователей из таблицы users, у которых ВСЕ записи в таблице orders имеют status = 0
4. Выбрать всех пользователей из таблицы users, у которых больше 5 записей в таблице orders имеют status = 1
5. Написать запрос, который вернет максимальное значение ID_SALES и значение даты (DATE_SALES) для этого ID_SALES.
6. Написать запрос, который вернет максимальное значение ID_SALES и значение даты (DATE_SALES) для этого ID_SALES в разбивке за каждый день, за последнюю неделю.

## Блок SQL+ (Postgre)

1. Напишите SQL-запрос над таблицей user_activity_log, который вернёт три поля: 
client_id — идентификатор клиента;
month — месяц данных (должен иметь тип date);
visit_to_login_events — количество событий типа login, следующих сразу, 
без каких-либо промежуточных событий, после события visit за месяц.
 
2. Необходимо вычислить метрику в витрине  
visit_to_login_events - количество событий типа login после события visit за месяц по каждому клиенту. 
Промежуток времени между событиями не ограничен.
 
Таблица user_activity_log
```
client_id   hitdatetime action
123         2023-11-23:00:00:00  login
123         2023-11-23:00:01:11  visit
123         2023-11-23  visit
125         2023-11-23  visit
123         2023-11-24  visit
125         2023-11-23  login
```

3. Имея табличное выражение с данными отсортированными по дате, написать код который в каждой строке выводит поле N с указанием количества значений в текущей непрерывной серии числа 1 в поле value 
```
date     value 
2018-01-01   1 
2018-01-05   1 
2018-01-06   0 
2018-02-01   1 
2018-02-03   0 
2018-02-07   1 
2018-02-09   1 
2018-02-25   1 
```

Пример результата 
```
date     value    N 
2018-01-01   1        2 
2018-01-05   1        2 
2018-01-06   0        0 
2018-02-01   1        1 
2018-02-03   0        0 
2018-02-07   1        3 
2018-02-09   1        3 
2018-02-25   1        3
```
